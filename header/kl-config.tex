\usepackage[xcolor, hyperref, cleveref, notion, quotation]{knowledge}
\knowledgeconfigure{quotation, protect quotation={tikzcd}}
\knowledgeconfigure{diagnose line=true, diagnose bar=true}

\IfKnowledgePaperModeTF{
    %
}{
    % If we are NOT in paper mode (i.e. in composition mode or electronic mode)
    \knowledgestyle{intro notion}{color={Dark Ruby Red}, italic}
    \knowledgestyle{notion}{color={Dark Blue Sapphire}}
    \hypersetup{
        colorlinks=true,
        breaklinks=true,
        linkcolor={Dark Blue Sapphire}, % Links to sections, pages, etc.
        citecolor={Dark Blue Sapphire}, % Links to bibliography
        filecolor={Dark Blue Sapphire}, % Links to local file
        urlcolor={Dark Blue Sapphire},
    }
    \IfKnowledgeElectronicModeTF{
        %
    }{
        % If we are in composition mode, highlight unknown stuff (in yellow) and display the anchor point.
        \knowledgeconfigure{anchor point color={Dark Ruby Red}, anchor point shape=corner}
        \knowledgestyle{intro unknown}{color={Dark Gamboge}, italic}
        \knowledgestyle{intro unknown cont}{color={Dark Gamboge}, italic}
        \knowledgestyle{kl unknown}{color={Dark Gamboge}}
        \knowledgestyle{kl unknown cont}{color={Dark Gamboge}}
    }
}